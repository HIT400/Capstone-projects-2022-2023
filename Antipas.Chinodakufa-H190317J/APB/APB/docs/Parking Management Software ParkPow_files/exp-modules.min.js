!function(l){"use strict";function n(){var e,t,a=jQuery(".exp-form-border-with-underline, .exp-form-rounded-with-underline");0<a.length&&(t=(e=a.find('input[type = "text"],                         input[type = "email"],                         input[type = "number"],                        textarea,                                      select')).filter(function(){return"select"===this.tagName.toLowerCase()}),a=e.not(t),0<e.length&&(e.each(function(e){var t,a;(e=l(this)).parent().hasClass("exp-form-field")||(t=l('<div class = "exp-form-field"></div>'),a=l('<div class = "exp-form-border"></div>'),e.wrap(t),null!=e.attr("placeholder")&&(t=l('<label class = "exp-form-field-label">'+e.attr("placeholder")+"</label>"),e.attr("placeholder",""),e.parent().append(t)),e.parent().append(a))}),e.each(function(){var e=jQuery(this);""!==e.val()&&e.closest(".exp-form-field").addClass("exp-form-field-active")}),a.focus(function(){jQuery(this).closest(".exp-form-field").addClass("exp-form-field-active")}),a.blur(function(){var e=jQuery(this);""==e.val()&&e.closest(".exp-form-field").removeClass("exp-form-field-active")}),t.on("change",function(){var e=jQuery(this);""==e.val()?e.closest(".exp-form-field").removeClass("exp-form-field-active"):e.closest(".exp-form-field").addClass("exp-form-field-active")})))}var d=l(window),e=(l(document).on("click",".exp-mc-submit",function(e){e.preventDefault();var t=l(this),e=l("#ajax_url").val(),a=t.closest(".exp-mc-form"),n=a.find(".subscribe_status"),o=a.find(".exp-subscribe-loader");return a.addClass("exp-mc-form-loading"),o.fadeIn(),jQuery.ajax({type:"POST",url:e,dataType:"json",data:"action=mailchimp_subscription&"+jQuery(this).closest(".exp-mc-form").serialize(),success:function(e){"error"===e.status?n.removeClass("tatsu-success").addClass("tatsu-error"):n.addClass("tatsu-success").removeClass("tatsu-error"),o.fadeOut(400,"swing",function(){n.html(e.data).slideDown(),a.removeClass("exp-mc-form-loading")})},error:function(){o.fadeOut(400,"swing",function(){n.removeClass("tatsu-success").addClass("tatsu-error"),n.html("Please Try Again Later").slideDown(),a.removeClass("exp-mc-form-loading")})}}),!1}),function(){var e=jQuery(".exp-mc");0<e.length&&e.each(function(){var e=l(this);e.parent().width()<e.find(".exp-mc-email").outerWidth(!0)+e.find(".exp-mc-submit").outerWidth()?e.addClass("exp-mc-block"):e.removeClass("exp-mc-block")})}),o=function(){var e=l(".be-vimeo-embed"),t=l(".be-youtube-embed"),r=function(e){asyncloader.require(["fitvids"],function(){null!=e&&0<e.length&&(e.closest(".be-video-embed").removeClass("be-embed-placeholder"),e.parent().fitVids(),l(document).trigger("be_video_loaded",[e]),l(".exp-blog .be-grid").isotope("layout"))})},a=function(){t.each(function(){var e=l(this),t=null,a=null!=e.attr("data-video-id")?e.attr("data-video-id"):null,n=null!=e.attr("data-autoplay")?parseInt(e.attr("data-autoplay")):null,o=null!=e.attr("data-loop")?parseInt(e.attr("data-loop")):null;null!=a&&(t=new YT.Player(this,{videoId:a,playerVars:{autoplay:n,loop:o,playlist:o?a:""},width:e.width(),height:e.width()/1.7777,events:{onReady:function(e){n&&e.target.mute()}}}),r(l(t.getIframe())))})};0<e.length&&asyncloader.require(["vimeonew"],function(){e.each(function(){var e=l(this),t=isNaN(Number(e.attr("data-video-id")))?null:Number(e.attr("data-video-id")),a=null!=e.attr("data-autoplay")&&parseInt(e.attr("data-autoplay")),n=null!=e.attr("data-loop")&&parseInt(e.attr("data-loop"));null!=t&&new Vimeo.Player(this,{id:t,autoplay:!!a,loop:!!n,muted:!!a,width:e.width(),height:Math.ceil(e.width()/1.7777)}).ready().then(function(){r(e.children("iframe"))})})}),0<t.length&&("undefined"!=typeof YT&&"function"==typeof YT.Player?a():l(document).on("YTAPIReady",a))},r=function(e){function i(e){function t(e){var t;return e instanceof l&&0<e.length&&(t=isNaN(Number(e.attr("data-cols")))?1:Number(e.attr("data-cols")),e=e.find(".be-slide").length,1024<d.width()?t<e:767<d.width()?2<e:1<e)}t(e)||e.addClass("be-slider-hide-nav"),d.on("debouncedresize",function(){t(e)?e.removeClass("be-slider-hide-nav"):e.addClass("be-slider-hide-nav")})}var t=l(e||".be-slider");0<t.length&&asyncloader.require("flickity",function(){t.each(function(){var e,t,a,n,o,r=jQuery(this);r.hasClass("flickity-enabled")||("1"!=r.attr("data-arrows")&&"1"!=r.attr("data-dots")||i(r),"1"==r.attr("data-arrows")&&"1"==r.attr("data-outer-arrows")&&(n=r)instanceof l&&0<n.length&&!n.hasClass("be-slider-with-margin")&&100<d.width()-n.outerWidth()&&(o=isNaN(n.attr("data-gutter"))?0:Number(n.attr("data-gutter"))/2,n.css({padding:"0 50px",margin:"0 -"+(50+o)+"px"})),"1"==r.attr("data-equal-height")&&(e=r)instanceof l&&0<e.length&&(t=0,(a=e.find(".be-slide")).each(function(){var e=l(this);t<e.height()&&(t=e.height())}),a.height(t),e.addClass("be-equal-height-slider")),r.flickity({cellAlign:null!=r.attr("data-cell-align")?r.attr("data-cell-align"):"left",contain:!0,lazyLoad:"1"==r.attr("data-lazy-load")&&(a=1,(e=r)instanceof l&&0<e.length&&(1<(e=isNaN(Number(e.attr("data-cols")))?1:Number(e.attr("data-cols")))&&(a=e-1)),a),adaptiveHeight:"1"==r.attr("data-adaptive-height"),pageDots:"1"==r.attr("data-dots"),prevNextButtons:"1"==r.attr("data-arrows"),asNavFor:null!=r.attr("data-as-nav-for")&&r.attr("data-as-nav-for"),autoPlay:!isNaN(Number(r.attr("data-auto-play")))&&Number(r.attr("data-auto-play")),wrapAround:"1"==r.attr("data-infinite")}))})})},i=function(){asyncloader.require(["isotope","begrid"],function(){jQuery('.be-grid[data-layout="metro"],.be-grid[data-layout="masonry"]').each(function(){new BeGrid(this)})})},s=function(e){function a(e){return new Date(e.replace(/-/g,"/"))}var t=jQuery(".exp-countdown"),n=exponentModulesConfig.dependencies.countdownLangFile?["countdown","countdownLangFile"]:"countdown";e?t.each(function(){var e=jQuery(this),t=a(e.attr("data-time"));e.countdown("option","until",t)}):0<t.length&&asyncloader.require(n,function(){t.each(function(){var e=jQuery(this),t=a(e.attr("data-time"));e.countdown({until:t})})})};!function(){if(null!=exponentModulesConfig&&null!=exponentModulesConfig.dependencies){var e,t=exponentModulesConfig.dependencies;for(e in t)asyncloader.register(t[e],e)}}(),l(function(){null!=asyncloader&&(n(),l(window).on("tatsu_update",function(e,t){var a;null!=t&&(a=t.moduleName,t.shouldUpdate,t=t.moduleId,null!=a&&null!=t&&("exp_contact_form7"===a?n():"exp_recent_posts"===a?r(".exp-recent-posts .be-slider"):"exp_featured_posts"===a?r(".exp-featured-posts .be-slider"):"blog"===a?(i(),r(".exp-blog .be-slider"),o(".exp-blog .be-slider")):"exp_countdown"===a&&s()))}),l(".mobx").length&&asyncloader.require("modulobox",function(){var n;"object"!=typeof window.mobx?((n=new ModuloBox({mediaSelector:".mobx"})).init(),n.on("sliderSettled.modulobox",function(e){var t=this.gallery.index;"HTML"===this.gallery[t].type&&n.getGalleries()}),n.on("afterOpen.modulobox",function(e,t){var a=this.gallery.index;"HTML"===this.gallery[a].type&&n.getGalleries()}),window.mobx=n):"function"==typeof window.mobx.getGalleries&&window.mobx.getGalleries()}),r(),i(),e(),s())})}(jQuery);