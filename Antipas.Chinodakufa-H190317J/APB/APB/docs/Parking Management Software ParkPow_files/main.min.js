!function(c){"use strict";function r(t){var e=c("#tatsu-header-wrap"),a=window.tatsuHeader,n=0;null!=(t="string"==typeof t?jQuery(t):t instanceof c?t:null)&&0<t.length&&t.is(":visible")&&(null!=a&&(h.width()<960&&c(".tatsu-mobile-menu").is(":visible")&&a.closeMobileMenu(),a.closeSlide()),t=t.offset().top,m.hasClass("admin-bar")&&(n+=32),0<e.length&&e.hasClass("sticky")&&null!=a&&(!e.hasClass("smart")||p.scrollTop()>t)&&t>a.getSmartOffset()&&(n+=null!=a?a.getStickyHeaderHeight():0),t=Math.ceil(n<=t?t-n:t),p.animate({scrollTop:t},1e3))}function l(){0<c("#be-themes-loader-container").length&&c("#be-themes-loader-container").stop().fadeOut(400,function(){c(this).remove(),p.css("overflow-y","")})}function d(){function o(t){function e(t){var e;return t instanceof c&&0<t.length&&(e=isNaN(Number(t.attr("data-cols")))?1:Number(t.attr("data-cols")),t=t.find(".be-slide").length,1024<h.width()?e<t:767<h.width()?2<t:1<t)}e(t)||t.addClass("be-slider-hide-nav"),h.on("debouncedresize",function(){e(t)?t.removeClass("be-slider-hide-nav"):t.addClass("be-slider-hide-nav")})}var t=c(".be-slider");0<t.length&&asyncloader.require("flickity",function(){t.each(function(){var t,e,a,n,i,s=jQuery(this);s.hasClass("flickity-enabled")||("1"!=s.attr("data-arrows")&&"1"!=s.attr("data-dots")||o(s),"1"==s.attr("data-arrows")&&"1"==s.attr("data-outer-arrows")&&(n=s)instanceof c&&0<n.length&&!n.hasClass("be-slider-with-margin")&&100<h.width()-n.outerWidth()&&(i=isNaN(n.attr("data-gutter"))?0:Number(n.attr("data-gutter"))/2,n.css({padding:"0 50px",margin:"0 -"+(50+i)+"px"})),"1"==s.attr("data-equal-height")&&(t=s)instanceof c&&0<t.length&&(e=0,(a=t.find(".be-slide")).each(function(){var t=c(this);e<t.height()&&(e=t.height())}),a.height(e),t.addClass("be-equal-height-slider")),s.flickity({cellAlign:null!=s.attr("data-cell-align")?s.attr("data-cell-align"):"left",contain:!0,lazyLoad:"1"==s.attr("data-lazy-load")&&(a=1,(t=s)instanceof c&&0<t.length&&(1<(t=isNaN(Number(t.attr("data-cols")))?1:Number(t.attr("data-cols")))&&(a=t-1)),a),adaptiveHeight:"1"==s.attr("data-adaptive-height"),pageDots:"1"==s.attr("data-dots"),prevNextButtons:"1"==s.attr("data-arrows"),asNavFor:null!=s.attr("data-as-nav-for")&&s.attr("data-as-nav-for"),autoPlay:!isNaN(Number(s.attr("data-auto-play")))&&Number(s.attr("data-auto-play")),wrapAround:"1"==s.attr("data-infinite")}))})})}function u(){m.hasClass("be-sticky-sections")&&!m.hasClass("tatsu-frame")&&asyncloader.require("stickysections",function(){function e(){null!=tatsu&&(tatsu.cssAnimate(!1,"",c(this)),c(this).find(".tatsu-an").length&&tatsu.animatedNumbers())}function a(){var t=c(this),e=c("#sticky-dots-navigation"),t=t.attr("data-headerscheme");0<e.length&&e.attr("data-headerscheme")!=t&&(e.find("span").css("transition","none"),e.removeClass("background--dark"==t?"background--light":"background--dark"),e.find("span").css("transition","background 700ms cubic-bezier(0.645, 0.045, 0.355, 1)"),e.addClass(t),e.attr("data-headerscheme",t))}function n(){var t=c("li.menu-item"),e=c(this);e.length&&o+h.scrollTop()>=e.offset().top&&(t.removeClass("current-menu-item"),t.find('a[href$="#'+e.attr("id")+'"]').closest("li.menu-item").addClass("current-menu-item current-section"))}function t(t){stickySections.updateLayout(),a.call(t),n.call(t),e.call(t),f.on("click","a",function(t){var e,a=c(this).attr("href"),n=window.location.href;"string"==typeof a&&(a=(e=a.split("#"))[1],0<=n.indexOf(e[0])&&"string"==typeof a&&0<(a=c("#"+a)).length&&a.is(":visible")&&(t.preventDefault(),-1<(a=stickySections.getStickyIndex(a[0]))&&a<jQuery(".sticky-section").length&&(0===m.scrollTop()&&m.scrollTop(1),stickySections.moveTo(a))))})}var i=c(".be-sections-wrap").attr("data-sticky-scroll"),s=c(".tatsu-global-section"),o=c("#tatsu-header-container").outerHeight()+(c("#wpadminbar").length?c("#wpadminbar").height():0),r={autoScroll:"auto_scroll"==i,fixedParent:"#be-sticky-section-fixed-wrap",scrollCallback:function(t){e.call(this)},scrollingSpeed:1200,overlay:0!=jQuery(".be-sections-wrap").attr("data-sticky-overlay"),fullScreenOffset:["#wpadminbar","#tatsu-header-container"],dots:!0,footer:[".tatsu-global-section-bottom","#tatsu-footer-container"],navigationPosition:"right",afterLoad:function(){e.call(this),function(){var t=jQuery(this),e=jQuery("#tatsu-header-wrap"),t=t.attr("data-headerscheme");e.hasClass("transparent")&&null!=t&&(e.hasClass("dark"),t=t.replace("background--",""),e.removeClass(t),e.addClass("dark"==t?"light":"dark"))}.call(this,arguments),a.call(this),n.call(this)}};0<s.length&&c(".be-sections-wrap").prepend(jQuery(".tatsu-global-section-top")).append(jQuery(".tatsu-global-section-penultimate"));var l="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints;l||stickySections.initialize(".be-sections-wrap",r,t),h.on("resize",function(){(l="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)||m.hasClass("sticky-enabled")?l&&m.hasClass("sticky-enabled")&&stickySections.destroy():stickySections.initialize(".be-sections-wrap",r,t)})})}function t(){var t,e,s,a,n,i,o;0<(o=c(".be-themes-bg-lazyload")).length&&o.each(function(){var t,e=c(this),a=e.attr("data-src");null!=a&&((t=c(new Image)).one("load",function(){e.addClass("be-themes-bg-lazyloaded"),setTimeout(function(){e.parent().find(".be-themes-bg-blur").remove()},1e3)}),t.attr("src",a),t[0].complete&&t.load())}),(i=window.location.hash)&&0<c(i).length&&r(c(i)),f.on("click","a",function(t){var e=c(this),a=e.attr("href"),n=window.location.href;if(e.hasClass("ui-tabs-anchor")||0<e.closest(".wc-tabs").length||"#"===a)return!1;m.hasClass("be-sticky-sections")||"string"==typeof a&&(a=(e=a.split("#"))[1],0<=n.indexOf(e[0])&&"string"==typeof a&&0<(a=c("#"+a)).length&&a.is(":visible")&&(t.preventDefault(),r(a)))}),y(),0<c("#be-themes-loader-container").length?(p.css("overflow-y","hidden"),h.on("load",l),h.on("pageshow",function(){m.css({transition:"",opacity:""})}),h.on("beforeunload",function(){m.css({transition:"opacity 500ms",opacity:"0"})}),!(0<c("#tatsu-header-wrap").length&&c("#tatsu-header-wrap").hasClass("transparent"))||m.hasClass("tatsu-transparent-header-pad")?l():f.on("tatsu_transparent_header_padding_calc",l)):p.css("overflow-y","auto"),t=c(".be-vimeo-embed"),e=c(".be-youtube-embed"),o=c("iframe"),s=function(t){asyncloader.require(["fitvids"],function(){null!=t&&0<t.length&&(t.closest(".be-video-embed").removeClass("be-embed-placeholder"),t.parent().fitVids(),c(document).trigger("be_video_loaded",[t]))})},i=function(){e.each(function(){var t=c(this),e=null,a=null!=t.attr("data-video-id")?t.attr("data-video-id"):null,n=null!=t.attr("data-autoplay")?parseInt(t.attr("data-autoplay")):null,i=null!=t.attr("data-loop")?parseInt(t.attr("data-loop")):null;null!=a&&(e=new YT.Player(this,{videoId:a,playerVars:{autoplay:n,loop:i,playlist:i?a:"",rel:0},width:t.width(),height:t.width()/1.7777,events:{onReady:function(t){n&&t.target.mute()}}}),s(c(e.getIframe())))})},0<t.length&&asyncloader.require(["vimeonew"],function(){t.each(function(){var t=c(this),e=isNaN(Number(t.attr("data-video-id")))?null:Number(t.attr("data-video-id")),a=null!=t.attr("data-autoplay")&&parseInt(t.attr("data-autoplay")),n=null!=t.attr("data-loop")&&parseInt(t.attr("data-loop"));null!=e&&new Vimeo.Player(this,{id:e,autoplay:!!a,loop:!!n,muted:!!a,width:t.width(),height:Math.ceil(t.width()/1.7777)}).ready().then(function(){s(t.children("iframe"))})})}),0<e.length&&("undefined"!=typeof YT&&"function"==typeof YT.Player?i():c(document).on("YTAPIReady",i)),0<o.length&&asyncloader.require("fitvids",function(){m.fitVids({customSelector:'iframe[src*="videopress.com"]'})}),asyncloader.require(["isotope","begrid"],function(){jQuery('.be-grid[data-layout="metro"],.be-grid[data-layout="masonry"]').each(function(){new BeGrid(this)})}),0<(i=c(".exp-post-categories-labeled .exp-term")).length&&i.each(function(){var t=c(this),e=t.css("color"),a=t.css("background-color");t.on("mouseenter",function(){""==e&&""==a||t.css({color:a,backgroundColor:e})}),t.on("mouseleave",function(){""==e&&""==a||t.css({color:e,backgroundColor:a})})}),g(),o={comments:g},window.BeScripts=o,h.on("debouncedresize",function(){g(),b()}),0<(n=jQuery(".exp-posts-nav-sticky")).length&&(a=jQuery(".exp-post-single-content"),m.css("margin-bottom",n.outerHeight()+20+"px"),0<a.length?h.on("scroll",function(){var t=h.scrollTop()+h.height(),e=a.offset().top+a.outerHeight();!n.hasClass("exp-posts-nav-sticky-active")&&100<t-e?n.addClass("exp-posts-nav-sticky-active"):n.hasClass("exp-posts-nav-sticky-active")&&t-e<100&&n.removeClass("exp-posts-nav-sticky-active")}):n.addClass("exp-posts-nav-sticky-active")),b(),d(),asyncloader.require(["superfish","hoverintent"],function(){jQuery(".exponent-menu ").children("ul").superfish({animation:{top:"50px",opacity:"show"},animationOut:{top:"45px",opacity:"hide"},pathLevels:3,speed:"fast",delay:100,disableHI:!0,onBeforeShow:function(){var t,e,a,n,i;this.parent("li").hasClass("mega-menu")?(this.css("visibility","hidden"),this.fadeIn(),a=this.width(),i=this.offset().left,this.parent("li").offset().left,jQuery(window).width()-i<a&&(n=a-(jQuery(window).width()-30-i),this.css("left",-n),this.find(".exponent-header-pointer").css("left",20+n)),this.css("visibility","visible"),this.fadeOut()):(t=this.parents("ul").length,e=this.closest("li.menu-item-has-children"),n=t*(a=this.innerWidth()),i=a-(jQuery(this).innerWidth()-jQuery(this).width())/2+5,1<t&&(jQuery(window).width()-this.closest("li.menu-item-has-children").offset().left<n?e.find("ul.exponent-sub-menu").css("right",i).css("left","auto"):e.find("ul.exponent-sub-menu").css("left",i).css("right","auto")).css("top",0)),this.siblings(".exponent-sub-menu-indicator").addClass("menu-open")},onBeforeHide:function(){this.siblings(".exponent-sub-menu-indicator").removeClass("menu-open")}})}),jQuery(document).on("click",".exponent-mobile-menu-icon .line-4",function(){var t=jQuery(this).parent(".exponent-mobile-menu-icon");t.toggleClass("open"),t.siblings(".exponent-mobile-menu ").animate({height:"toggle"})}),jQuery(document).on("click",".exponent-mobile-menu  .exponent-sub-menu-indicator",function(){jQuery(this).toggleClass("menu-open"),jQuery(this).siblings(".exponent-sub-menu").animate({height:"toggle"})}),jQuery(document).on("click",".exponent-mobile-menu  li.menu-item-has-children a",function(){"#"==jQuery(this).attr("href")&&(jQuery(this).toggleClass("menu-open"),jQuery(this).siblings(".exponent-sub-menu").animate({height:"toggle"}))}),jQuery(".fixed-sidebar-page").length&&(i=jQuery(".be-content-overflow").hasClass("left-fixed-page")?"left":"right",o=jQuery("#content-wrap"),jQuery("#be-overflow-image-content-inner").css("margin-"+i,-Math.abs(o.offset().left)),jQuery(".be-sticky-column").length&&asyncloader.require("sticky-kit",function(){var t=jQuery("body").hasClass("admin-bar")?32:0;jQuery(".be-sticky-column").stick_in_parent({parent:".be-content-overflow-inner-wrap",offset_top:t})})),u()}var e,h=jQuery(window),f=jQuery(document),p=jQuery("html,body"),m=jQuery(document.body),g=(c(document).on("click",".exp-comment-details",function(){var t,e=c(this).closest(".comment"),a=c("#respond"),n=e.find(".exp-comment-details");0<e.length&&0<n.length&&0<a.length&&(t=n.offset().left-e.offset().left,a.css("margin-left",t+"px"),i())}),c(document).on("click","#cancel-comment-reply-link",function(){var t=c("#respond");0<t.length&&(t.css("margin-left",""),i())}),i),y=((e=c("#be-themes-back-to-top")).on("click",function(t){t.preventDefault(),jQuery("body,html").animate({scrollTop:0},1e3)}),0<e.length&&h.on("scroll",function(){a()}),a),b=function(){var t=c(".be-sidebar-sticky");0<t.length&&asyncloader.require("sticky-kit",function(){var e=h.width(),a=m.hasClass("admin-bar")?32:0;t.each(function(){var t=c(this);1024<e&&!t.data().sticky_kit?t.stick_in_parent({parent:".be-row",offset_top:a}):e<1024&&t.data().sticky_kit&&t.trigger("sticky_kit:detach")})})};function a(){0<e.length&&(10<h.scrollTop()?e.fadeIn():e.fadeOut())}function i(){var t;!m.hasClass("single-post")||0<(t=jQuery(".exp-comment-parent")).length&&(959<h.width()?t.each(function(){var a,t,e,n=jQuery(this),i=0,s=n.find(".exp-comment-follow-line");0<s.length&&0<(a=n.nextUntil(".comment")).length&&(a.each(function(t,e){i+=c(this).outerHeight(t!=a.length-1)}),0<(e=n.find(".exp-comment-author-image")).length&&(t=e.height()+32,e=e.width()/2,n=n.outerHeight(!0)+i-t,s.css({top:t+"px",left:e+"px",height:n+"px",width:"1px",display:"block"})))}):t.find(".exp-comment-follow-line").css("display","none"))}jQuery(function(){t(),l()}),function(){var t=null!=window.exponentThemeConfig?window.exponentThemeConfig.dependencies:{};if(null!=t)for(var e in t)t.hasOwnProperty(e)&&asyncloader.register(t[e],e);asyncloader.register("https://player.vimeo.com/api/player.js","vimeonew")}()}(jQuery);